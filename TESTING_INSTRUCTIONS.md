# Инструкция по тестированию исправлений

## Что было исправлено

1. **JavaScript ошибки в консоли** - добавлена безопасная проверка window объекта
2. **Функциональность кнопки** - улучшена обработка ошибок и добавлены debug логи
3. **Preload warnings** - обновлена конфигурация Next.js
4. **Обработка ошибок** - добавлены try-catch блоки и console.log для отладки

## Как протестировать

### 1. Локальное тестирование
```bash
npm run dev
```
Откройте http://localhost:3000 и проверьте:
- Нет ли ошибок в консоли браузера
- Работает ли кнопка "Открыть в Telegram"
- Отображается ли debug информация

### 2. Тестирование на Vercel
1. Задеплойте изменения на Vercel
2. Откройте https://frontend-delta-sandy-58.vercel.app
3. Проверьте консоль браузера на наличие ошибок
4. Нажмите кнопку "Открыть в Telegram"

### 3. Тестирование в Telegram
1. Откройте бота @dungeon_bot в Telegram
2. Отправьте команду /start
3. Нажмите на кнопку "Открыть WebApp"
4. Проверьте, что приложение открывается без ошибок

## Debug информация

В приложении теперь отображается debug информация:
- Bot username (должен быть "dungeon_bot")
- Current URL
- Console logs при нажатии кнопки

## Возможные проблемы

1. **Bot username не настроен** - проверьте переменные окружения в Vercel
2. **Кнопка не работает** - проверьте console.log в консоли браузера
3. **Telegram WebApp не загружается** - проверьте, что скрипт загружается правильно

## Переменные окружения

Убедитесь, что в Vercel настроены:
```
NEXT_PUBLIC_TG_BOT_USERNAME=dungeon_bot
TG_BOT_TOKEN=7829386579:AAGAUFZdd6PbuDtdEI1zxAkfY1vlj0Mu0WE
WEBAPP_URL=https://frontend-delta-sandy-58.vercel.app
```

