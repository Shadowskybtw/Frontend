# üéâ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ Vercel, –≤–æ–∑–Ω–∏–∫–ª–∞ –Ω–æ–≤–∞—è –ø—Ä–æ–±–ª–µ–º–∞:
- ‚úÖ **–ü—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–ª—Å—è —É—Å–ø–µ—à–Ω–æ** 
- ‚ùå **API –≤–æ–∑–≤—Ä–∞—â–∞–ª–∏ 500 –æ—à–∏–±–∫–∏**
- ‚ùå **–ò—Å—Ç–æ—Ä–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±—ã–ª–∏ –ø—É—Å—Ç—ã–º–∏**
- ‚ùå **–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ —Ä–∞–±–æ—Ç–∞–ª**

## üõ†Ô∏è –ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö `tg_id` —Å `Int` –Ω–∞ `BigInt` –≤ Prisma —Å—Ö–µ–º–µ:
1. **Prisma Client –Ω–µ –±—ã–ª –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω** - —Å—Ç–∞—Ä—ã–π –∫–ª–∏–µ–Ω—Ç –Ω–µ –ø–æ–Ω–∏–º–∞–ª –Ω–æ–≤—ã–µ —Ç–∏–ø—ã
2. **BigInt –Ω–µ —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ JSON** - API –Ω–µ –º–æ–≥–ª–∏ –≤–µ—Ä–Ω—É—Ç—å –¥–∞–Ω–Ω—ã–µ —Å `bigint` –ø–æ–ª—è–º–∏
3. **–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–∞–Ω–Ω—ã—Ö** - –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –æ–∂–∏–¥–∞–Ω–∏—è–º

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma Client
```bash
npx prisma generate
```

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ JSON
**–ü—Ä–æ–±–ª–µ–º–∞**: `BigInt` –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω –≤ JSON
**–†–µ—à–µ–Ω–∏–µ**: –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `db.ts` —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç `Number(user.tg_id)` –≤–º–µ—Å—Ç–æ `user.tg_id`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `getAllUsers()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `tg_id` –∫–∞–∫ `number`
- `getUserByTgId()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `tg_id` –∫–∞–∫ `number`
- `getAllAdmins()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `tg_id` –∫–∞–∫ `number`
- `getUserById()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `tg_id` –∫–∞–∫ `number`

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ User
```typescript
export interface User {
  id: number
  tg_id: number  // –ò–∑–º–µ–Ω–µ–Ω–æ —Å bigint –Ω–∞ number
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
}
```

### 4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–¥–º–∏–Ω—Å–∫–∏—Ö –ø—Ä–∞–≤ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç `Number(user.tg_id)` –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏–π.

### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
–û–±–Ω–æ–≤–∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è "–¢–µ—Å—Ç–æ–≤—ã–π –ê–¥–º–∏–Ω" (TG: 937011437):
- **–ò–º—è**: –ù–∏–∫–æ–ª–∞–π –®–∞–¥–æ–≤—Å–∫–∏–π
- **–¢–µ–ª–µ—Ñ–æ–Ω**: +79270036642
- **Username**: shadowskydie

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ API —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
```bash
# –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
curl "http://localhost:3000/api/search-user?phone=6642"
# {"success":true,"user":{"id":2,"tg_id":937011437,"first_name":"–ù–∏–∫–æ–ª–∞–π",...}}

# –ò—Å—Ç–æ—Ä–∏—è
curl "http://localhost:3000/api/history/937011437"
# {"success":true,"items":[...],"total":11}

# –ê–∫—Ü–∏–∏
curl "http://localhost:3000/api/stocks/937011437"
# {"success":true,"stocks":[...]}
```

### ‚úÖ –î–∞–Ω–Ω—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- **–ò—Å—Ç–æ—Ä–∏—è**: 11 –∑–∞–ø–∏—Å–µ–π (9 –æ–±—ã—á–Ω—ã—Ö, 2 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö)
- **–ê–∫—Ü–∏–∏**: 1 –∞–∫—Ü–∏—è "5+1 –∫–∞–ª—å—è–Ω" (80% –ø—Ä–æ–≥—Ä–µ—Å—Å, 4/5 —Å–ª–æ—Ç–æ–≤)
- **–ü–æ–∏—Å–∫**: –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –ø–æ—Å–ª–µ–¥–Ω–∏–º 4 —Ü–∏—Ñ—Ä–∞–º —Ç–µ–ª–µ—Ñ–æ–Ω–∞ "6642"

### ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é
- ‚úÖ –ü—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ API —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –î–∞–Ω–Ω—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç

## üìã –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

1. **`src/lib/db.ts`** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è `tg_id` –≤ JSON
2. **`src/contexts/UserContext.tsx`** - –æ–±–Ω–æ–≤–ª–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ `number | bigint`
3. **–í—Å–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã** - —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏
4. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üéØ –ò—Ç–æ–≥

**–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞!** 

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å:
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –¥–ª—è –¥–µ–ø–ª–æ—è
- ‚úÖ API –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

**–ú–æ–∂–Ω–æ –¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ Vercel! üöÄ**
